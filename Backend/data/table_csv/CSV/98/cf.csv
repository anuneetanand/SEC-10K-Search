,12 Months Ended,12 Months Ended,12 Months Ended
,"Dec. 31, 2019","Dec. 31, 2018","Dec. 31, 2017"
"('Consolidated Statements of Cash Flows - USD ($) $ in Millions', 'Consolidated Statements of Cash Flows - USD ($) $ in Millions')",,,
Cash Flows from Operating Activities,,,
Net loss, -775, -1063, -2241
Adjustments to reconcile net loss to net cash provided by (used in) operating activities:,,,
"Depreciation, amortization and impairment",2154,1901,1636
Stock-based compensation,898,749,467
Amortization of debt discounts and issuance costs,188,159,91
Inventory and purchase commitments write-downs,193,85,132
Loss on disposals of fixed assets,146,162,106
Foreign currency transaction (gains) loss,-48,-2,52
Loss related to SolarCity acquisition,,,58
Non-cash interest and other operating activities,186,49,135
Operating cash flow related to repayment of discounted convertible notes,-188,,
"Changes in operating assets and liabilities, net of effect of business combinations:",,,
Accounts receivable,-367,-497,-25
Inventory,-429,-1023,-179
Operating lease vehicles,-764,-215,-1523
Prepaid expenses and other current assets,-288,-82,-72
Other non-current assets,115,-207,-15
Accounts payable and accrued liabilities,682,1723,388
Deferred revenue,801,406,469
Customer deposits,-58,-96,170
Resale value guarantee,-150,-111,209
Other long-term liabilities,109,160,81
Net cash provided by (used in) operating activities,2405,2098,-61
Cash Flows from Investing Activities,,,
"Purchases of property and equipment excluding finance leases, net of sales",-1327,-2101,-3415
Purchases of solar energy systems,-105,-218,-666
Purchase of intangible assets,-5,,
Receipt of government grants,46,,
"Business combinations, net of cash acquired",-45,-18,-115
Net cash used in investing activities,-1436,-2337,-4196
Cash Flows from Financing Activities,,,
"Proceeds from issuances of common stock in public offerings, net of underwriting discounts",848,,400
Proceeds from issuances of convertible and other debt,10669,6176,7138
Repayments of convertible and other debt,-9161,-5247,-3996
Repayments of borrowings issued to related parties,,-100,-165
Collateralized lease repayments,-389,-559,511
Proceeds from exercises of stock options and other stock issuances,263,296,259
Principal payments on finance leases,-321,-181,-103
Common stock and debt issuance costs,-37,-15,-63
Purchase of convertible note hedges,-476,,-204
Proceeds from settlement of convertible note hedges,,,287
Proceeds from issuance of warrants,174,,53
Payments for settlements of warrants,,,-230
Proceeds from investments by noncontrolling interests in subsidiaries,279,437,790
Distributions paid to noncontrolling interests in subsidiaries,-311,-227,-262
Payments for buy-outs of noncontrolling interests in subsidiaries,-9,-6,
Net cash provided by financing activities,1529,574,4415
Effect of exchange rate changes on cash and cash equivalents and restricted cash,8,-23,40
Net increase in cash and cash equivalents and restricted cash,2506,312,198
"Cash and cash equivalents and restricted cash, beginning of period",4277,3965,3767
"Cash and cash equivalents and restricted cash, end of period",6783,4277,3965
Supplemental Non-Cash Investing and Financing Activities,,,
Equity issued in connection with business combination,207,,
Acquisitions of property and equipment included in liabilities,562,249,914
Estimated fair value of facilities under build-to-suit leases,,94,313
Supplemental Disclosures,,,
"Cash paid during the period for interest, net of amounts capitalized",455,381,183
"Cash paid during the period for taxes, net of refunds", 54, 35, 66
