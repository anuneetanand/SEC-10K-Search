,12 Months Ended,12 Months Ended,12 Months Ended
,"Dec. 31, 2017","Dec. 31, 2016","Dec. 31, 2015"
"('Consolidated Statements of Cash Flows - USD ($) $ in Thousands', 'Consolidated Statements of Cash Flows - USD ($) $ in Thousands')",,,
Cash Flows from Operating Activities,,,
Net loss, -2240578, -773046, -888663
Adjustments to reconcile net loss to net cash used in operating activities:,,,
Depreciation and amortization,1636003,947099,422590
Stock-based compensation,466760,334225,197999
Amortization of debt discounts and issuance costs,91037,94690,78054
Inventory write-downs,131665,65520,44940
Loss on disposals of fixed assets,105770,34633,37723
Foreign currency transaction losses (gains),52309,-29183,55765
Loss (gain) related to SolarCity acquisition,57746,-88727,
Non-cash interest and other operating activities,135237,-15179,20382
"Changes in operating assets and liabilities, net of effect of business combinations:",,,
Accounts receivable,-24635,-216565,46267
Inventories,-178850,-632867,-369364
Operating lease vehicles,-1522573,-1832836,-1204496
Prepaid expenses and other current assets,-72084,56806,-29595
MyPower customer notes receivable and other assets,-15453,-49353,-24362
Accounts payable and accrued liabilities,388206,750640,263345
Deferred revenue,468902,382962,322203
Customer deposits,170027,388361,36721
Resale value guarantee,208718,326934,442295
Other long-term liabilities,81139,132057,23697
Net cash used in operating activities,-60654,-123829,-524499
Cash Flows from Investing Activities,,,
"Purchases of property and equipment excluding capital leases, net of sales",-3414814,-1280802,-1634850
Maturities of short-term marketable securities,,16667,
"Purchases of solar energy systems, leased and to be leased",-666540,-159669,
Increases in restricted cash,-223090,-206149,-26441
"Business combinations, net of cash acquired",-114523,213523,-12260
Net cash used in investing activities,-4418967,-1416430,-1673551
Cash Flows from Financing Activities,,,
Proceeds from issuances of common stock in public offerings,400175,1701734,730000
Proceeds from issuances of convertible and other debt,7138055,2852964,318972
Repayments of convertible and other debt,-3995484,-1857594,
Repayments of borrowings under Solar Bonds issued to related parties,-165000,,
Collateralized lease borrowings,511321,769709,568745
Proceeds from exercises of stock options and other stock issuances,259116,163817,106611
Principal payments on capital leases,-103304,-46889,-203780
Common stock and debt issuance costs,-63111,-20042,-17025
Purchases of convertible note hedges,-204102,,
Proceeds from settlements of convertible note hedges,287213,,
Proceeds from issuances of warrants,52883,,
Proceeds from issuance of common stock in private placement,,,20000
Payments for settlements of warrants,-230385,,
Proceeds from investments by noncontrolling interests in subsidiaries,789704,201527,
Distributions paid to noncontrolling interests in subsidiaries,-261844,-21250,
Payments for buy-outs of noncontrolling interests in subsidiaries,-373,,
Net cash provided by financing activities,4414864,3743976,1523523
Effect of exchange rate changes on cash and cash equivalents,39455,-7409,-34278
Net (decrease) increase in cash and cash equivalents,-25302,2196308,-708805
"Cash and cash equivalents, beginning of period",3393216,1196908,1905713
"Cash and cash equivalents, end of period",3367914,3393216,1196908
Supplemental Non-Cash Investing and Financing Activities,,,
Shares issued in connection with business combinations and assumed vested awards,10528,2145977,
Acquisitions of property and equipment included in liabilities,914108,663771,267334
Estimated fair value of facilities under build-to-suit leases,313483,307879,174749
Supplemental Disclosures,,,
"Cash paid during the period for interest, net of amounts capitalized",182571,38693,32060
"Cash paid during the period for taxes, net of refunds", 65695, 16385, 9461
