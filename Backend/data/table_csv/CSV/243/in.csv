,12 Months Ended,12 Months Ended,12 Months Ended
,"Dec. 31, 2017","Dec. 31, 2016","Dec. 31, 2015"
"('CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($) shares in Thousands, $ in Thousands', 'CONSOLIDATED STATEMENTS OF OPERATIONS - USD ($) shares in Thousands, $ in Thousands')",,,
Income Statement [Abstract],,,
Agency revenues, 9714126, 7982116, 6527898
Merchant revenues,2133017,2048005,2082973
Advertising and other revenues,833939,712885,613116
Total revenues,12681082,10743006,9223987
Cost of revenues,250537,428314,632180
Gross profit,12430545,10314692,8591807
Operating expenses:,,,
Performance advertising,4141771,3479287,2738218
Brand advertising,391584,295698,273704
Sales and marketing,561958,435225,353221
"Personnel, including stock-based compensation of $260,910, $249,574 and $247,395, respectively",1659581,1350032,1166226
General and administrative,585541,455909,415420
Information technology,189344,142393,113617
Depreciation and amortization,362774,309135,272494
Impairment of goodwill,0,940700,0
Total operating expenses,7892553,7408379,5332900
Operating income,4537992,2906313,3258907
Other income (expense):,,,
Interest income,157194,94946,55729
Interest expense,-253976,-207900,-160229
Foreign currency transactions and other,-35291,-16913,-26087
Impairment of cost-method investments,-7597,-63208,0
Total other expense,-139670,-193075,-130587
Earnings before income taxes,4398322,2713238,3128320
Income tax expense,2057557,578251,576960
Net income, 2340765, 2134987, 2551360
Net income applicable to common stockholders per basic common share, 47.78, 43.14, 50.09
Weighted-average number of basic common shares outstanding,48994,49491,50940
Net income applicable to common stockholders per diluted common share, 46.86, 42.65, 49.45
Weighted-average number of diluted common shares outstanding,49954,50063,51593
