,12 Months Ended,12 Months Ended,12 Months Ended
,"Dec. 31, 2018","Dec. 31, 2017","Dec. 31, 2016"
"('Consolidated Statements of Cash Flows - USD ($) $ in Thousands', 'Consolidated Statements of Cash Flows - USD ($) $ in Thousands')",,,
Cash Flows from Operating Activities,,,
Net loss, -1062582, -2240578, -773046
Adjustments to reconcile net loss to net cash provided by (used in) operating activities:,,,
"Depreciation, amortization and impairment",1901050,1636003,947099
Stock-based compensation,749024,466760,334225
Amortization of debt discounts and issuance costs,158730,91037,94690
Inventory write-downs,85272,131665,65520
Loss on disposals of fixed assets,161361,105770,34633
Foreign currency transaction (gains) losses,-1511,52309,-29183
Loss (gain) related to SolarCity acquisition,,57746,-88727
Non-cash interest and other operating activities,48507,135237,-15179
"Changes in operating assets and liabilities, net of effect of business combinations:",,,
Accounts receivable,-496732,-24635,-216565
Inventory,-1023264,-178850,-632867
Operating lease vehicles,-214747,-1522573,-1832836
Prepaid expenses and other current assets,-82125,-72084,56806
Other assets and MyPower customer notes receivable,-207409,-15453,-49353
Accounts payable and accrued liabilities,1722850,388206,750640
Deferred revenue,406661,468902,382962
Customer deposits,-96685,170027,388361
Resale value guarantee,-110564,208718,326934
Other long-term liabilities,159966,81139,132057
Net cash provided by (used in) operating activities,2097802,-60654,-123829
Cash Flows from Investing Activities,,,
"Purchases of property and equipment excluding capital leases, net of sales",-2100724,-3414814,-1280802
Maturities of short-term marketable securities,,,16667
"Purchases of solar energy systems, leased and to be leased",-218792,-666540,-159669
"Business combinations, net of cash acquired",-17912,-114523,342719
Net cash used in investing activities,-2337428,-4195877,-1081085
Cash Flows from Financing Activities,,,
Proceeds from issuances of common stock in public offerings,,400175,1701734
Proceeds from issuances of convertible and other debt,6176173,7138055,2852964
Repayments of convertible and other debt,-5247057,-3995484,-1857594
Repayments of borrowings issued to related parties,-100000,-165000,
Collateralized lease (repayments) borrowings,-559167,511321,769709
Proceeds from exercises of stock options and other stock issuances,295722,259116,163817
Principal payments on capital leases,-180805,-103304,-46889
Common stock and debt issuance costs,-14973,-63111,-20042
Purchases of convertible note hedges,,-204102,
Proceeds from settlement of convertible note hedges,,287213,
Proceeds from issuances of warrants,,52883,
Payments for settlements of warrants,-11,-230385,
Proceeds from investments by noncontrolling interests in subsidiaries,437134,789704,201527
Distributions paid to noncontrolling interests in subsidiaries,-227304,-261844,-21250
Payments for buy-outs of noncontrolling interests in subsidiaries,-5957,-373,
Net cash provided by financing activities,573755,4414864,3743976
Effect of exchange rate changes on cash and cash equivalents and restricted cash,-22700,39726,-6553
Net increase in cash and cash equivalents and restricted cash,311429,198059,2532509
"Cash and cash equivalents and restricted cash, beginning of period",3964959,3766900,1234391
"Cash and cash equivalents and restricted cash, end of period",4276388,3964959,3766900
Supplemental Non-Cash Investing and Financing Activities,,,
Shares issued in connection with business combinations and assumed vested awards,,10528,2145977
Acquisitions of property and equipment included in liabilities,249141,914108,663771
Estimated fair value of facilities under build-to-suit leases,94445,313483,307879
Supplemental Disclosures,,,
"Cash paid during the period for interest, net of amounts capitalized",380836,182571,38693
"Cash paid during the period for taxes, net of refunds", 35409, 65695, 16385
